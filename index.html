<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>churi</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<!-- ヘッダー部分（タイトル） -->
  <header class="site-header">
    <h1 class="site-title">Churi</h1>
    <p class="site-subtitle">Official Website</p>
  </header>

  <!-- ヘッダー下写真 -->
<img src="ライブ写真.JPG" alt="説明文" class="under-header-photo">
 
<div class="loop-slider" id="loopSlider">
  <div class="track">
    <img src="ワンマン情報.jpeg" />
    <img src="グッズ猫.JPG" />
    <img src="シンデレラストーリー写真.PNG" />
    <img src="セレンディピティ写真.PNG" />
    <img src="ホワイトムスク写真.JPEG" />
    <img src="星のように写真.PNG" />
    <img src="夢空写真.JPG" />

    <!-- 無限ループ用に複製 -->
    <img src="ワンマン情報.jpeg" />
    <img src="グッズ猫.JPG" />
    <img src="シンデレラストーリー写真.PNG" />
    <img src="セレンディピティ写真.PNG" />
    <img src="ホワイトムスク写真.JPEG" />
    <img src="星のように写真.PNG" />
    <img src="夢空写真.JPG" />
  </div>
</div>
     
  <!-- 記事エリア -->
  <main class="articles">
    <article>
      <h2>記事タイトル1</h2>
      <p>ここに記事の内容が入ります。背景やレイアウトをCSSで自由に調整できます。</p>
    </article>
    <article>
      <h2>記事タイトル2</h2>
      <p>ここに記事の内容が入ります。写真やリンクを追加することも可能です。</p>
    </article>
  </main>

<script>
  const slider = document.getElementById("loopSlider");
  const totalImages = 7;

  let autoTimer = null;
  let restartTimer = null;
  let isTouching = false;

  // 自動スライド（一定速度で流れる）
  function startAutoSlide() {
    stopAutoSlide(); // 二重起動防止

    autoTimer = setInterval(() => {
      slider.scrollLeft += 1;

      const imgWidth = slider.clientWidth;

      // 無限ループ
      if (slider.scrollLeft >= imgWidth * totalImages) {
        slider.scrollLeft = 0;
      }
    }, 10);
  }

  function stopAutoSlide() {
    clearInterval(autoTimer);
  }

  // スワイプ開始
  slider.addEventListener("touchstart", () => {
    isTouching = true;
    stopAutoSlide();

    // スワイプ中はスムーススクロールを無効化
    slider.style.scrollBehavior = "auto";

    // 再開待ちタイマーも止める
    clearTimeout(restartTimer);
  });

  // スワイプ中も自動スライドは止めておく
  slider.addEventListener("touchmove", () => {
    stopAutoSlide();
  });

  // スワイプ終了
  slider.addEventListener("touchend", () => {
    isTouching = false;

    // スワイプ後は一瞬だけ“自然に滑らかに動き出す”
    slider.style.scrollBehavior = "smooth";

    // 0.3秒後に自動スライド再開（自然に見える最適値）
    restartTimer = setTimeout(() => {
      slider.style.scrollBehavior = "auto"; // 自動スライド中はautoが自然
      startAutoSlide();
    }, 300);
  });

  // PC用（マウスドラッグ）
  slider.addEventListener("mousedown", () => {
    stopAutoSlide();
    slider.style.scrollBehavior = "auto";
    clearTimeout(restartTimer);
  });

  slider.addEventListener("mouseup", () => {
    slider.style.scrollBehavior = "smooth";
    restartTimer = setTimeout(() => {
      slider.style.scrollBehavior = "auto";
      startAutoSlide();
    }, 300);
  });

  // 初回スタート
  startAutoSlide();
</script>
  
</body>
</html>
